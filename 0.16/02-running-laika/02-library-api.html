<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Laika 0.17.0 + Helium Theme" />
    <title>Library API</title>
    
    
      <meta name="description" content="Site and E-book Generator and Customizable Text Markup Transformer for sbt, Scala and Scala.js"/>
    
    
      <link rel="icon" sizes="32x32" type="image/png" href="../../img/laika-favicon.png" />
    
    
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.207/distr/fira_code.css">
    
    <link rel="stylesheet" type="text/css" href="../helium/icofont.min.css" />
    <link rel="stylesheet" type="text/css" href="../helium/laika-helium.css" />
    <link rel="stylesheet" type="text/css" href="../css/manual.css" />
    <script src="../helium/laika-helium.js"></script>
    <script src="../helium/laika-versions.js"></script>
    <script>initVersions("../../", "/02-running-laika/02-library-api.html", "0.16");</script>
    <script> /* for avoiding page load transitions */ </script>
  </head>

  <body>

    <header id="top-bar">

      <div class="row">
        <a id="nav-icon">
          <i class="icofont-laika">&#xefa2;</i>
        </a>
        
        <div id="version-menu-container">
          <a id="version-menu-toggle" class="text-link drop-down-toggle" href="#">
            Version 0.16
          </a>
          <nav id="version-menu">
            <ul id="version-list" class="nav-list">
            </ul>
          </nav>
        </div>
        
      </div>
  
      <a href="../../index.html"><i class="icofont-laika" title="Home">&#xef47;</i></a>
      
      <span class="row"><a class="icon-link svg-link" href="https://github.com/planet42/Laika">
      <span title="Source Code">
           <svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
             <g class="svg-shape">
               <path d="M49.995,1c-27.609,-0 -49.995,22.386 -49.995,50.002c-0,22.09 14.325,40.83 34.194,47.444c2.501,0.458 3.413,-1.086 3.413,-2.412c0,-1.185 -0.043,-4.331 -0.067,-8.503c-13.908,3.021 -16.843,-6.704 -16.843,-6.704c-2.274,-5.773 -5.552,-7.311 -5.552,-7.311c-4.54,-3.103 0.344,-3.042 0.344,-3.042c5.018,0.356 7.658,5.154 7.658,5.154c4.46,7.64 11.704,5.433 14.552,4.156c0.454,-3.232 1.744,-5.436 3.174,-6.685c-11.102,-1.262 -22.775,-5.553 -22.775,-24.713c-0,-5.457 1.949,-9.92 5.147,-13.416c-0.516,-1.265 -2.231,-6.348 0.488,-13.233c0,0 4.199,-1.344 13.751,5.126c3.988,-1.108 8.266,-1.663 12.518,-1.682c4.245,0.019 8.523,0.574 12.517,1.682c9.546,-6.47 13.736,-5.126 13.736,-5.126c2.728,6.885 1.013,11.968 0.497,13.233c3.204,3.496 5.141,7.959 5.141,13.416c0,19.209 -11.691,23.436 -22.83,24.673c1.795,1.544 3.394,4.595 3.394,9.26c0,6.682 -0.061,12.076 -0.061,13.715c0,1.338 0.899,2.894 3.438,2.406c19.853,-6.627 34.166,-25.354 34.166,-47.438c-0,-27.616 -22.389,-50.002 -50.005,-50.002"/>
             </g>
           </svg>
         </span>
      </a><a class="icon-link svg-link" href="../api/laika/api/index.html">
      <span title="API">
           <svg class="svg-icon" width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
             <g class="svg-shape">
               <path d="M75,47.5c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm-50,-0c13.246,-0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,-0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm2.705,16.735l7.239,0l0.622,-4.904l-21.833,0l-0,4.904l7.589,0l0,22.067l6.383,0l-0,-22.067Zm58.076,7.265c-0,-8.757 -3.698,-14.166 -10.781,-14.166c-7.083,-0 -10.781,5.604 -10.781,14.166c0,8.757 3.698,14.166 10.781,14.166c7.083,0 10.781,-5.604 10.781,-14.166Zm-6.539,0c0,6.538 -1.128,9.496 -4.242,9.496c-2.997,0 -4.242,-2.88 -4.242,-9.496c-0,-6.616 1.206,-9.496 4.242,-9.496c3.036,-0 4.242,2.88 4.242,9.496Zm-29.242,-67c13.246,0 24,10.754 24,24c0,13.246 -10.754,24 -24,24c-13.246,0 -24,-10.754 -24,-24c0,-13.246 10.754,-24 24,-24Zm0.512,9.834c-7.122,-0 -12.609,5.098 -12.609,14.127c-0,9.263 5.215,14.205 12.532,14.205c4.164,0 7.083,-1.634 9.068,-3.658l-2.88,-3.697c-1.518,1.206 -3.153,2.413 -5.838,2.413c-3.697,-0 -6.266,-2.763 -6.266,-9.263c-0,-6.616 2.724,-9.379 6.149,-9.379c2.102,-0 3.892,0.778 5.371,1.984l3.113,-3.775c-2.257,-1.868 -4.748,-2.957 -8.64,-2.957Z"/>
             </g>
           </svg>
         </span>
      </a><a class="icon-link" href="../downloads.html"><i class="icofont-laika" title="Download">&#xef08;</i></a><a class="icon-link" href="http://planet42.org"><i class="icofont-laika" title="Demo">&#xeeea;</i></a></span>
      
    </header>

    <nav id="sidebar">

      <ul class="nav-list">
        <li class="level1"><a href="../table-of-content.html">Table of Content</a></li>
        <li class="level1"><a href="../downloads.html">Documentation Downloads</a></li>
        <li class="level1 nav-header">About Laika</li>
        <li class="level2"><a href="../01-about-laika/01-features.html">Features</a></li>
        <li class="level2"><a href="../01-about-laika/02-design-goals.html">Design Goals</a></li>
        <li class="level1 nav-header">Running Laika</li>
        <li class="level2"><a href="01-sbt-plugin.html">sbt Plugin</a></li>
        <li class="level2 active"><a href="#">Library API</a></li>
        <li class="level2"><a href="03-configuration.html">Configuration</a></li>
        <li class="level1 nav-header">Preparing Content</li>
        <li class="level2"><a href="../03-preparing-content/01-directory-structure.html">Directory Structure</a></li>
        <li class="level2"><a href="../03-preparing-content/02-navigation.html">Navigation</a></li>
        <li class="level2"><a href="../03-preparing-content/03-theme-settings.html">Theme Settings</a></li>
        <li class="level2"><a href="../03-preparing-content/04-ebooks.html">E-Books (EPUB &amp; PDF)</a></li>
        <li class="level2"><a href="../03-preparing-content/05-syntax-highlighting.html">Syntax Highlighting</a></li>
        <li class="level1 nav-header">Customizing Laika</li>
        <li class="level2"><a href="../04-customizing-laika/01-overview.html">Overview</a></li>
        <li class="level2"><a href="../04-customizing-laika/03-creating-templates.html">Creating Templates</a></li>
        <li class="level2"><a href="../04-customizing-laika/04-document-ast.html">The Document AST</a></li>
        <li class="level2"><a href="../04-customizing-laika/05-ast-rewriting.html">AST Rewriting</a></li>
        <li class="level2"><a href="../04-customizing-laika/06-overriding-renderers.html">Overriding Renderers</a></li>
        <li class="level1 nav-header">Extending Laika</li>
        <li class="level2"><a href="../05-extending-laika/01-overview.html">Overview</a></li>
        <li class="level2"><a href="../05-extending-laika/02-creating-themes.html">Creating Themes</a></li>
        <li class="level2"><a href="../05-extending-laika/03-implementing-directives.html">Implementing Directives</a></li>
        <li class="level2"><a href="../05-extending-laika/04-writing-parser-extensions.html">Writing Parser Extensions</a></li>
        <li class="level2"><a href="../05-extending-laika/06-adding-syntax-highlighters.html">Adding Syntax Highlighters</a></li>
        <li class="level2"><a href="../05-extending-laika/07-new-markup-output-formats.html">New Markup or Output Formats</a></li>
        <li class="level1 nav-header">Sub-Modules</li>
        <li class="level2"><a href="../06-sub-modules/02-laikas-parser-combinators.html">Laika&#39;s Parser Combinators</a></li>
        <li class="level2"><a href="../06-sub-modules/03-laikas-hocon-api.html">Laika&#39;s HOCON API</a></li>
        <li class="level1 nav-header">Reference</li>
        <li class="level2"><a href="../07-reference/01-standard-directives.html">Standard Directives</a></li>
        <li class="level2"><a href="../07-reference/02-substitution-variables.html">Substitution Variables</a></li>
        <li class="level2"><a href="../07-reference/03-spec-compliance.html">Spec Compliance</a></li>
        <li class="level2"><a href="../07-reference/06-release-notes.html">Release Notes</a></li>
        <li class="level2"><a href="../07-reference/07-migration-guide.html">Migration Guide</a></li>
      </ul>
      
    </nav>

    <div id="container">

      <nav id="page-nav">
        <p class="header"><a href="#">Library API</a></p>
        
        <ul class="nav-list">
          <li class="level1"><a href="#dependencies">Dependencies</a></li>
          <li class="level1"><a href="#anatomy-of-the-api">Anatomy of the API</a></li>
          <li class="level1"><a href="#transforming-strings">Transforming Strings</a></li>
          <li class="level1"><a href="#setup-for-effectful-transformations">Setup for Effectful Transformations</a></li>
          <li class="level2"><a href="#using-cats-io-monix-or-zio">Using cats.IO, Monix or Zio</a></li>
          <li class="level2"><a href="#applications-without-effect-library">Applications without Effect Library</a></li>
          <li class="level1"><a href="#entire-directories-as-input">Entire Directories as Input</a></li>
          <li class="level2"><a href="#merging-multiple-directories">Merging Multiple Directories</a></li>
          <li class="level2"><a href="#freely-composing-inputs">Freely Composing Inputs</a></li>
          <li class="level2"><a href="#preparing-content">Preparing Content</a></li>
          <li class="level1"><a href="#separate-parsing-and-rendering">Separate Parsing and Rendering</a></li>
          <li class="level1"><a href="#configuration">Configuration</a></li>
          <li class="level2"><a href="#theme-configuration">Theme Configuration</a></li>
          <li class="level2"><a href="#other-settings">Other Settings</a></li>
        </ul>
        
        <p class="footer"><a href="https://github.com/planet42/Laika/tree/master/docs/02-running-laika/02-library-api.md"><i class="icofont-laika" title="Edit">&#xef10;</i>Source for this page</a></p>
      </nav>

      <main class="content">

        <h1 id="library-api" class="title">Library API</h1>
        <p>Laika&#39;s API is fully referentially transparent, does not throw exceptions and
        avoids any kind of runtime reflection. Its core module is also available for Scala.js.
        The library only has a very limited number of dependencies and does not require the installation of any external tools.</p>
        <p>This chapter only covers the topics which are specific to using Laika without its sbt plugin, 
        while most other parts of the manual apply to both use cases, library and plugin.</p>
        
        <h2 id="dependencies" class="section">Dependencies<a class="anchor-link right" href="#dependencies"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>Which of the modules you need to add to the build depends on the functionality you intend to use.</p>
        <p>If you want to stick to pure transformations from string to string and don&#39;t need file or stream IO or
        any of the binary output formats like EPUB or PDF, you are fine with just using the <code>laika-core</code> module:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">libraryDependencies</span><span> += </span><span class="string-literal">&quot;org.planet42&quot;</span><span> %% </span><span class="string-literal">&quot;laika-core&quot;</span><span> % </span><span class="string-literal">&quot;0.16.1&quot;</span><span> </span></code></pre>
        <p>This module is also 100% supported for Scala.js, so you can alternatively use the triple <code>%%%</code> syntax
        if you want to cross-build for Scala.js and the JVM:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">libraryDependencies</span><span> += </span><span class="string-literal">&quot;org.planet42&quot;</span><span> %%% </span><span class="string-literal">&quot;laika-core&quot;</span><span> % </span><span class="string-literal">&quot;0.16.1&quot;</span><span> </span></code></pre>
        <p>If you want to add support for file and stream IO and/or output in the EPUB format, 
        you need to depend on the <code>laika-io</code> module instead:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">libraryDependencies</span><span> += </span><span class="string-literal">&quot;org.planet42&quot;</span><span> %% </span><span class="string-literal">&quot;laika-io&quot;</span><span> % </span><span class="string-literal">&quot;0.16.1&quot;</span><span> </span></code></pre>
        <p>This depends on <code>laika-core</code> in turn, so you always only need to add one module as a dependency and will get
        the rest via transitive dependencies. No module apart from <code>laika-core</code> is available for Scala.js, so you
        are in JVM land here.</p>
        <p>Finally PDF support comes with its own module as it adds a whole range of additional dependencies:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">libraryDependencies</span><span> += </span><span class="string-literal">&quot;org.planet42&quot;</span><span> %% </span><span class="string-literal">&quot;laika-pdf&quot;</span><span> % </span><span class="string-literal">&quot;0.16.1&quot;</span><span> </span></code></pre>
        <p>Again, this builds on top of the other modules, so adding just this one dependency is sufficient.</p>
        
        
        <h2 id="anatomy-of-the-api" class="section">Anatomy of the API<a class="anchor-link right" href="#anatomy-of-the-api"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>The library API for creating parsers, renderers or transformers, while aiming to be intuitive and simple, 
        also exposes one of the main design goals of Laika: that everything is meant to be pluggable.</p>
        <p>The following example for creating a pure transformer shows the main building blocks:</p>
        <div class="default-image-block">
          <img src="../../img/anatomy-api.png" alt="Anatomy of the API" width="602" height="345">
        </div>
        <ul>
          <li>
            <p>All inputs need to support the <code>MarkupFormat</code> contract.
            Supported by the core library are <code>Markdown</code> and <code>ReStructuredText</code>.</p>
          </li>
          <li>
            <p>Output formats implement the <code>RenderFormat[FMT]</code> trait.
            The type parameter represents the formatter API that renderer overrides for specific AST nodes can talk to,
            which is different depending on the format.
            The library supports the formats <code>HTML</code>, <code>EPUB</code>, <code>PDF</code>, <code>XSLFO</code> and <code>AST</code> out of the box.
            The latter is a debug output that renders the document AST in a formatted structure.</p>
          </li>
          <li>
            <p>Finally, the optional <code>using</code> hook in the API accepts anything that implements <code>ExtensionBundle</code>.
            This API has hooks for all phases of the transformation process, parsing, AST transformation and rendering
            and is Laika&#39;s main extension point.
            Shown above are <code>GitHubFlavor</code> and <code>SyntaxHighlighting</code>, two bundles provided by the library that can be enabled on demand. </p>
          </li>
        </ul>
        
        <p>If you require support for file/stream IO, templating or binary output formats, 
        the <code>laika-io</code> module expands on the core API to add this functionality:</p>
        <div class="default-image-block">
          <img src="../../img/io-api.png" alt="Anatomy of the IO API" width="602" height="433">
        </div>
        <p>The blue elements of the API are identical to the pure transformer.
        The new <code>io</code> method used above becomes available with <code>import laika.io.implicits._</code>.</p>
        <p>This API introduces a dependency on <code>cats-effect</code> which is used to model the effectful computations.
        You can use it with any effect that supports the <code>cats-effect</code> type classes, like cats-IO, Monix or Zio.</p>
        <ul>
          <li>
            <p>The blocker passed in the example gives you control over which <code>ExecutionContext</code> blocking IO is performed in.</p>
          </li>
          <li>
            <p>The call to <code>parallel[IO]</code> builds a transformer that lets you specify entire directories as input and allows to instruct
            the library which effect type to use (cats-IO in this example). There are two more variants, <code>sequential</code>, 
            that processes inputs sequentially as well as an overload for <code>parallel</code> that allows to specify the level of parallelism.</p>
          </li>
        </ul>
        <p>Using a <code>Transformer</code> is the most convenient option when you want to go directly from the raw input format (text markup)
        to the final output format. There are also <code>Parser</code> and <code>Renderer</code> instances that only do one half of the transformation.</p>
        <p>All types, <code>Transformer</code>, <code>Parser</code> and <code>Renderer</code> come in two flavors each. 
        A simple, pure API for dealing with strings as input and output
        and a parallel, effectful API for processing entire directories with templates and configuration files 
        in addition to the usual text markup input.</p>
        
        <h2 id="transforming-strings" class="section">Transforming Strings<a class="anchor-link right" href="#transforming-strings"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>Transforming in-memory input is the simplest form of transformation, and works for Markdown and reStructuredText 
        as input, and for HTML as output. EPUB and PDF both require additional modules and are described later in this chapter.</p>
        <p>For most cases where you don&#39;t use any of the customization hooks, you should be fine with just these imports:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">laika</span><span>.</span><span class="identifier">api</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">laika</span><span>.</span><span class="identifier">format</span><span>.</span><span class="identifier">_</span></code></pre>
        <p>As the next step you can then create transformer instances, which in most cases you&#39;ll want to reuse with different
        inputs to reduce the memory footprint and initialization overhead. 
        The instances are immutable and thread-safe.</p>
        <p>Example for creating a transformer for Markdown, including the GitHub-Flavor extensions:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">transformer</span><span> = </span><span class="type-name">Transformer</span><span>
  .</span><span class="identifier">from</span><span>(</span><span class="type-name">Markdown</span><span>)
  .</span><span class="identifier">to</span><span>(</span><span class="type-name">HTML</span><span>)
  .</span><span class="identifier">using</span><span>(</span><span class="type-name">GitHubFlavor</span><span>)
  .</span><span class="identifier">build</span></code></pre>
        <p>Example for creating a transformer for reStructuredText:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">transformer</span><span> = </span><span class="type-name">Transformer</span><span>
  .</span><span class="identifier">from</span><span>(</span><span class="type-name">ReStructuredText</span><span>)
  .</span><span class="identifier">to</span><span>(</span><span class="type-name">HTML</span><span>)
  .</span><span class="identifier">build</span></code></pre>
        <p>In addition to specifying markup and output formats and extensions, there are many other customization options in the builder
        step immediately before calling <code>build</code>. They are identical for the pure and IO parser and are summarized in the <a href="#configuration">Configuration</a> section.</p>
        <p>Finally you can use the transformer with text markup as input:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">result</span><span> = </span><span class="identifier">transformer</span><span>.</span><span class="identifier">transform</span><span>(</span><span class="string-literal">&quot;hello *there*&quot;</span><span>)</span></code></pre>
        <p>The result is of type <code>Either[ParserError, String]</code>.</p>
        
        <h2 id="setup-for-effectful-transformations" class="section">Setup for Effectful Transformations<a class="anchor-link right" href="#setup-for-effectful-transformations"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>In case you want to go beyond pure string transformations, 
        you need to switch your dependency to the <code>laika-io</code> module as shown in the <a href="#dependencies">Dependencies</a> section.</p>
        <p>This dependency will add file/stream IO, theme support, templating and the ability to process entire directories.</p>
        <p>This module depends on cats-effect, and models all side effects in an abstract effect,
        so that you can use it with cats IO, Monix or Zio.</p>
        <p>With the dependency in place you also need to add a third import to those you used for pure transformations:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">import</span><span> </span><span class="identifier">laika</span><span>.</span><span class="identifier">api</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">laika</span><span>.</span><span class="identifier">format</span><span>.</span><span class="identifier">_</span><span>
</span><span class="keyword">import</span><span> </span><span class="identifier">laika</span><span>.</span><span class="identifier">io</span><span>.</span><span class="identifier">implicits</span><span>.</span><span class="identifier">_</span></code></pre>
        <p>The remainder of the setup depends on whether you are <a href="#using-cats-io-monix-or-zio">Using cats.IO, Monix or Zio</a>
        or whether you build <a href="#applications-without-effect-library">Applications without Effect Library</a>.</p>
        
        <h3 id="using-cats-io-monix-or-zio" class="section">Using cats.IO, Monix or Zio<a class="anchor-link right" href="#using-cats-io-monix-or-zio"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>When your application is already using one of the effect libraries compatible with the cats-effect type class hierarchy,
        integrating Laika will be seamless. </p>
        <p>The exact mechanics of your Laika transformer setup will depend on which of the aforementioned libraries you are using 
        and whether you keep all of you code in an abstract <code>F[_]</code> instead of coding against a concrete effect type.</p>
        <p>The following example assumes the use case of an application written around abstract effect types and using <code>IOApp</code>
        from cats.IO for initialization:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">def</span><span> </span><span class="declaration-name">createTransformer</span><span>[</span><span class="type-name">F</span><span>[</span><span class="identifier">_</span><span>]: </span><span class="type-name">Async</span><span>: </span><span class="type-name">ContextShift</span><span>]
    (</span><span class="identifier">blocker</span><span>: </span><span class="type-name">Blocker</span><span>): </span><span class="type-name">Resource</span><span>[</span><span class="type-name">F</span><span>, </span><span class="type-name">TreeTransformer</span><span>[</span><span class="type-name">F</span><span>]] =
  </span><span class="type-name">Transformer</span><span>
    .</span><span class="identifier">from</span><span>(</span><span class="type-name">Markdown</span><span>)
    .</span><span class="identifier">to</span><span>(</span><span class="type-name">HTML</span><span>)
    .</span><span class="identifier">using</span><span>(</span><span class="type-name">GitHubFlavor</span><span>)
    .</span><span class="identifier">io</span><span>(</span><span class="identifier">blocker</span><span>)
    .</span><span class="identifier">parallel</span><span>[</span><span class="type-name">F</span><span>]
    .</span><span class="identifier">build</span></code></pre>
        
        <p>The setup method above can then be used inside <code>IOApp</code> initialization logic:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">object</span><span> </span><span class="type-name">MyApp</span><span> </span><span class="keyword">extends</span><span> </span><span class="type-name">IOApp</span><span> {

  </span><span class="keyword">def</span><span> </span><span class="declaration-name">run</span><span>(</span><span class="identifier">args</span><span>: </span><span class="type-name">List</span><span>[</span><span class="type-name">String</span><span>]) = {
    </span><span class="type-name">Blocker</span><span>[</span><span class="type-name">IO</span><span>].</span><span class="identifier">use</span><span> { </span><span class="identifier">blocker</span><span> =&gt;
      </span><span class="keyword">val</span><span> </span><span class="identifier">transformer</span><span> = </span><span class="identifier">createTransformer</span><span>[</span><span class="type-name">IO</span><span>](</span><span class="identifier">blocker</span><span>)
      </span><span class="comment">// other setup code
</span><span>    }.</span><span class="identifier">as</span><span>(</span><span class="type-name">ExitCode</span><span>.</span><span class="type-name">Success</span><span>)
  }
}</span></code></pre>
        <p>This way Laika gives full control over the <code>ExecutionContext</code> in which the blocking IO and CPU-bound operations are performed.</p>
        <p>Setup for other libraries would be similar, Monix for example comes with a <code>TaskApp</code> which is similar to <code>IOApp</code>.</p>
        
        <h3 id="applications-without-effect-library" class="section">Applications without Effect Library<a class="anchor-link right" href="#applications-without-effect-library"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>When using other stacks like Akka HTTP or the Play framework, you need to bridge the gap between the worlds of
        cats-effect and the surrounding toolkit, often centering around the Future API (which, in contrast to cats-effect,
        is not referentially transparent).</p>
        <p>First, to create a transformer with the setup method created in the previous example, you need to create instances
        of <code>ContextShift</code> and <code>Blocker</code> yourself:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">implicit</span><span> </span><span class="keyword">val</span><span> </span><span class="identifier">cs</span><span>: </span><span class="type-name">ContextShift</span><span>[</span><span class="type-name">IO</span><span>] = 
  </span><span class="type-name">IO</span><span>.</span><span class="identifier">contextShift</span><span>(</span><span class="type-name">ExecutionContext</span><span>.</span><span class="identifier">global</span><span>)
  
</span><span class="keyword">val</span><span> </span><span class="identifier">blocker</span><span> = </span><span class="type-name">Blocker</span><span>.</span><span class="identifier">liftExecutionContext</span><span>(
  </span><span class="type-name">ExecutionContext</span><span>.</span><span class="identifier">fromExecutor</span><span>(</span><span class="type-name">Executors</span><span>.</span><span class="identifier">newCachedThreadPool</span><span>())
)

</span><span class="keyword">val</span><span> </span><span class="identifier">transformer</span><span> = </span><span class="identifier">createTransformer</span><span>(</span><span class="identifier">blocker</span><span>)</span></code></pre>
        <p>The resulting instance can then be used to describe a transformation: </p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">result</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">String</span><span>] = </span><span class="identifier">transformer</span><span>.</span><span class="identifier">use</span><span> {
  </span><span class="identifier">_</span><span>.</span><span class="identifier">fromDirectory</span><span>(</span><span class="string-literal">&quot;docs&quot;</span><span>)
   .</span><span class="identifier">toDirectory</span><span>(</span><span class="string-literal">&quot;target&quot;</span><span>)
   .</span><span class="identifier">transform</span><span>
}</span></code></pre>
        <p>The resulting <code>IO</code> instance is only a description of a program, as it starts evaluation lazily, 
        in contrast to the Scala SDK&#39;s <code>Future</code> which starts processing eagerly.</p>
        <p>For actually running the effect and producing a result,
        you have several options depending on the stack you are using.
        One common scenario is a toolkit like Akka HTTP or Play where you execute a route that is expected to return a <code>Future</code>.
        This can achieved by a simple translation:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">futureResult</span><span>: </span><span class="type-name">Future</span><span>[</span><span class="type-name">String</span><span>] = </span><span class="identifier">result</span><span>.</span><span class="identifier">unsafeToFuture</span><span>()</span></code></pre>
        <p>Other options not involving <code>Future</code> are either blocking, synchronous execution:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">syncResult</span><span>: </span><span class="type-name">String</span><span> = </span><span class="identifier">result</span><span>.</span><span class="identifier">unsafeRunSync</span><span>()</span></code></pre>
        <p>Or asynchronous execution based on a callback:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">result</span><span>.</span><span class="identifier">unsafeRunAsync</span><span> {
  </span><span class="keyword">case</span><span> </span><span class="type-name">Left</span><span>(</span><span class="identifier">throwable</span><span>) =&gt; </span><span class="identifier">handleError</span><span>(</span><span class="identifier">throwable</span><span>)
  </span><span class="keyword">case</span><span> </span><span class="type-name">Right</span><span>(</span><span class="identifier">result</span><span>)   =&gt; </span><span class="identifier">handleResult</span><span>(</span><span class="identifier">result</span><span>)
}</span></code></pre>
        <p>Do not get too hung up on the scary sound of all these <code>unsync...</code> methods. The one kind of safety you are loosing
        when using them is referential transparency. But if you are using a <code>Future</code>-based API for example, 
        your program is not referentially transparent anyway.</p>
        
        <h2 id="entire-directories-as-input" class="section">Entire Directories as Input<a class="anchor-link right" href="#entire-directories-as-input"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>The effectful transformer is the most powerful variant and also the one that is the basis for the sbt plugin.
        It expands the functionality beyond just processing markup files to also parsing templates and configuration files
        as well as copying static files over to the target directory.</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">transformer</span><span> = </span><span class="type-name">Transformer</span><span>
  .</span><span class="identifier">from</span><span>(</span><span class="type-name">Markdown</span><span>)
  .</span><span class="identifier">to</span><span>(</span><span class="type-name">HTML</span><span>)
  .</span><span class="identifier">using</span><span>(</span><span class="type-name">GitHubFlavor</span><span>)
  .</span><span class="identifier">io</span><span>(</span><span class="identifier">blocker</span><span>)
  .</span><span class="identifier">parallel</span><span>[</span><span class="type-name">IO</span><span>]
  .</span><span class="identifier">build</span></code></pre>
        <p>The above transformer can then be used to process a directory of markup, template and configuration files:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">res</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">RenderedTreeRoot</span><span>[</span><span class="type-name">IO</span><span>]] = </span><span class="identifier">transformer</span><span>.</span><span class="identifier">use</span><span> {
  </span><span class="identifier">_</span><span>.</span><span class="identifier">fromDirectory</span><span>(</span><span class="string-literal">&quot;src&quot;</span><span>)
   .</span><span class="identifier">toDirectory</span><span>(</span><span class="string-literal">&quot;target&quot;</span><span>)
   .</span><span class="identifier">transform</span><span>
}</span></code></pre>
        <p>The <code>target</code> directory is expected to exist, while any required subdirectories will be automatically created during rendering. 
        There will be one HTML file for each input file in the same directory layout.</p>
        <p>If you replace the <code>HTML</code> renderer in the example above with one of the binary formats (<code>EPUB</code> or <code>PDF</code>),
        the API will be slightly different, as the <code>toDirectory</code> option is replaced by <code>toFile</code>. 
        This is because these formats always produce a single binary result, 
        merging all content from the input directories into a single, linearized e-book:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">res</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] = </span><span class="identifier">transformer</span><span>.</span><span class="identifier">use</span><span> {
  </span><span class="identifier">_</span><span>.</span><span class="identifier">fromDirectory</span><span>(</span><span class="string-literal">&quot;src&quot;</span><span>)
   .</span><span class="identifier">toFile</span><span>(</span><span class="string-literal">&quot;output.epub&quot;</span><span>)
   .</span><span class="identifier">transform</span><span>
}</span></code></pre>
        
        <h3 id="merging-multiple-directories" class="section">Merging Multiple Directories<a class="anchor-link right" href="#merging-multiple-directories"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>All previous examples read content from the single input directory. But you can also merge the contents of multiple directories:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">res</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">RenderedTreeRoot</span><span>[</span><span class="type-name">IO</span><span>]] = </span><span class="identifier">transformer</span><span>.</span><span class="identifier">use</span><span> {
  </span><span class="identifier">_</span><span>.</span><span class="identifier">fromDirectories</span><span>(</span><span class="string-literal">&quot;markup&quot;</span><span>, </span><span class="string-literal">&quot;theme&quot;</span><span>)
   .</span><span class="identifier">toDirectory</span><span>(</span><span class="string-literal">&quot;target&quot;</span><span>)
   .</span><span class="identifier">transform</span><span>
}</span></code></pre>
        <p>This adds some additional flexibility, as it allows, for example, to keep reusable styles and templates separately.
        This flexibility is possible as Laika is not tied to the file system, but instead provides a <a href="../03-preparing-content/01-directory-structure.html#virtual-tree-abstraction">Virtual Tree Abstraction</a>.</p>
        
        <h3 id="freely-composing-inputs" class="section">Freely Composing Inputs<a class="anchor-link right" href="#freely-composing-inputs"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>If you need even more flexibility instead of just configuring one or more input directories, 
        e.g. when there is a need to generate content on-the-fly before starting the transformation,
        you can use the <code>InputTree</code> builder. </p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">inputs</span><span> = </span><span class="type-name">InputTree</span><span>[</span><span class="type-name">F</span><span>]
  .</span><span class="identifier">addDirectory</span><span>(</span><span class="string-literal">&quot;/path-to-my/markup-files&quot;</span><span>)
  .</span><span class="identifier">addDirectory</span><span>(</span><span class="string-literal">&quot;/path-to-my/images&quot;</span><span>, </span><span class="type-name">Root</span><span> / </span><span class="string-literal">&quot;images&quot;</span><span>)
  .</span><span class="identifier">addClasspathResource</span><span>(</span><span class="string-literal">&quot;templates/default.html&quot;</span><span>, </span><span class="type-name">DefaultTemplatePath</span><span>.</span><span class="identifier">forHTML</span><span>)
  .</span><span class="identifier">addString</span><span>(</span><span class="identifier">generateStyles</span><span>(), </span><span class="type-name">Root</span><span> / </span><span class="string-literal">&quot;css&quot;</span><span> / </span><span class="string-literal">&quot;site.css&quot;</span><span>)</span></code></pre>
        <p>In the example above we specify two directories, a classpath resource and a string containing CSS generated on the fly.
        By default directories get merged into a single virtual root, but in the example we declare a mount point
        for the second directory, which causes the content of that directory to be assigned the corresponding logical path.</p>
        
        <div class="callout info">
          <i class="icofont-laika">&#xef4e;</i>
          <p>Always keep in mind that declaring inputs and outputs are the only places in the Laika universe where you&#39;d ever
          use concrete file system paths.
          Beyond this configuration step you are entirely within Laika&#39;s virtual path abstraction and refer to other
          resources by their virtual path.
          This is true for linking, using image resources, specifying templates to use in configuration headers, and so on.
          It means that everything you can refer to in your markup files needs to be included in the input composition step.</p>
        </div>
        <p>The <code>InputTreeBuilder</code> API gives you the following options:</p>
        <ul>
          <li>
            <p>Add entire directories and optionally specify a &quot;mount point&quot; at which they should be linked in the virtual tree.</p>
          </li>
          <li>
            <p>Specify individual files or classpath resources.</p>
          </li>
          <li>
            <p>Add in-memory string which will enter the parsing pipelines like file resources.</p>
          </li>
          <li>
            <p>Add in-memory AST nodes which will by-pass the parsing step and added directly to the other document AST
            obtained through parsing.</p>
          </li>
        </ul>
        <p>When generating input on the fly it is usually a question of convenience or reducing boilerplate 
        whether you choose to generate a string for parsing or the AST directly.</p>
        <p>For the complete API see <a href="../../api/laika/io/model/InputTreeBuilder.html">InputTreeBuilder</a>.</p>
        <p>The customized input tree can then be passed to the transformer:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">res</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">RenderedTreeRoot</span><span>[</span><span class="type-name">IO</span><span>]] = </span><span class="identifier">transformer</span><span>.</span><span class="identifier">use</span><span> {
  </span><span class="identifier">_</span><span>.</span><span class="identifier">fromInputTree</span><span>(</span><span class="identifier">inputs</span><span>)
   .</span><span class="identifier">toDirectory</span><span>(</span><span class="string-literal">&quot;target&quot;</span><span>)
   .</span><span class="identifier">transform</span><span>
}</span></code></pre>
        
        <h3 id="preparing-content" class="section">Preparing Content<a class="anchor-link right" href="#preparing-content"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>Laika does not have any special directories and content can be nested in sub-directories down to arbitrary levels.
        For more details on how to organize content, see <a href="../03-preparing-content/01-directory-structure.html#directory-structure">Directory Structure</a>.</p>
        <p>Transformers and Parsers distinguish between the following file types:</p>
        <ul>
          <li><strong>Markup Files</strong>: Files with the extensions <code>.md</code>, <code>.markdown</code> or <code>.rst</code> (depending on the specified input format) 
          will be parsed and rendered to the target in the same directory structure and with the same file names apart from the suffix,
          which will be replaced depending on the output format (e.g. <code>.html</code>).</li>
          <li><strong>Configuration Files</strong>: Each directory can contain an optional <code>directory.conf</code> file for specifying
          things like navigation order or chapter title. See <a href="../03-preparing-content/01-directory-structure.html#configuration-files">Configuration Files</a> for details.</li>
          <li><strong>Template Files</strong>: You can provide a default template per directory with the name <code>default.template.&lt;suffix&gt;</code>
          with the suffix matching the output format (e.g. <code>.html</code>). 
          They will also be applied to sub-directories, unless overridden. 
          Default templates in one of your input directories always override default templates provided by themes.
          You can also add additional templates with the name pattern <code>*.template.&lt;suffix&gt;</code>, 
          which will only be applied when a markup document explicitly refers to them in its configuration header.</li>
          <li><strong>Static Files</strong>: All other files, like CSS, JavaScript, images, etc., will be copied over to the 
          target in the same directory structure and with identical file names.</li>
        </ul>
        
        <h2 id="separate-parsing-and-rendering" class="section">Separate Parsing and Rendering<a class="anchor-link right" href="#separate-parsing-and-rendering"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>So far all examples in this chapter showed the use of a transformer instance, 
        which takes you all the way from a raw input file to the target format, e.g. from Markdown to HTML.</p>
        <p>But in some cases you may just want to execute one half of the process:</p>
        <ul>
          <li>
            <p>If the input is generated in-memory. In this case there is no need to generate text markup, you can directly
            produce the document AST and pass it to a <code>Renderer</code>.</p>
          </li>
          <li>
            <p>If you want to process the document AST produced by a <code>Parser</code> by other means than rendering one of the supported
            output formats.</p>
          </li>
          <li>
            <p>If you want to render the same input to multiple output formats. 
            In this case building a <code>Transformer</code> for all output formats is inefficient as each of them would parse the same input again. 
            Instead you can create a single <code>Parser</code> for the input and in addition one <code>Renderer</code> for each output format you want to generate.</p>
          </li>
        </ul>
        <p>In fact if you examine the implementations of the various pure and effectful transformer types, you&#39;ll notice that
        it is mostly trivial: delegating to the underlying <code>Parser</code> and <code>Renderer</code> and just piping the result from one to the other.</p>
        <p>The following code example demonstrates the third scenario listed above: Rendering the same input to multiple output formats.</p>
        <p>First we create a parser that reads from a directory:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">parserRes</span><span> = </span><span class="type-name">MarkupParser</span><span>
  .</span><span class="identifier">of</span><span>(</span><span class="type-name">Markdown</span><span>)
  .</span><span class="identifier">using</span><span>(</span><span class="type-name">GitHubFlavor</span><span>)
  .</span><span class="identifier">io</span><span>(</span><span class="identifier">blocker</span><span>)
  .</span><span class="identifier">parallel</span><span>[</span><span class="type-name">IO</span><span>]
  .</span><span class="identifier">build</span></code></pre>
        <p>Next we create the renderers for the three output formats:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">htmlRendererRes</span><span> = </span><span class="type-name">Renderer</span><span>.</span><span class="identifier">of</span><span>(</span><span class="type-name">HTML</span><span>).</span><span class="identifier">io</span><span>(</span><span class="identifier">blocker</span><span>).</span><span class="identifier">parallel</span><span>[</span><span class="type-name">IO</span><span>].</span><span class="identifier">build</span><span>
</span><span class="keyword">val</span><span> </span><span class="identifier">epubRendererRes</span><span> = </span><span class="type-name">Renderer</span><span>.</span><span class="identifier">of</span><span>(</span><span class="type-name">EPUB</span><span>).</span><span class="identifier">io</span><span>(</span><span class="identifier">blocker</span><span>).</span><span class="identifier">parallel</span><span>[</span><span class="type-name">IO</span><span>].</span><span class="identifier">build</span><span>
</span><span class="keyword">val</span><span> </span><span class="identifier">pdfRendererRes</span><span>  = </span><span class="type-name">Renderer</span><span>.</span><span class="identifier">of</span><span>(</span><span class="type-name">PDF</span><span>).</span><span class="identifier">io</span><span>(</span><span class="identifier">blocker</span><span>).</span><span class="identifier">parallel</span><span>[</span><span class="type-name">IO</span><span>].</span><span class="identifier">build</span></code></pre>
        <p>Since all four processors are a cats-effect <code>Resource</code>, we combine them into one:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">allResources</span><span> = </span><span class="keyword">for</span><span> {
  </span><span class="identifier">parser</span><span> &lt;- </span><span class="identifier">parserRes</span><span>
  </span><span class="identifier">html</span><span> &lt;- </span><span class="identifier">htmlRendererRes</span><span>
  </span><span class="identifier">epub</span><span> &lt;- </span><span class="identifier">epubRendererRes</span><span>
  </span><span class="identifier">pdf</span><span> &lt;- </span><span class="identifier">pdfRendererRes</span><span>
} </span><span class="keyword">yield</span><span> (</span><span class="identifier">parser</span><span>, </span><span class="identifier">html</span><span>, </span><span class="identifier">epub</span><span>, </span><span class="identifier">pdf</span><span>)</span></code></pre>
        <p>Finally we define the actual transformation by wiring the parser and the three renderers:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">transformOp</span><span>: </span><span class="type-name">IO</span><span>[</span><span class="type-name">Unit</span><span>] = </span><span class="identifier">allResources</span><span>.</span><span class="identifier">use</span><span> { 
  </span><span class="keyword">case</span><span> (</span><span class="identifier">parser</span><span>, </span><span class="identifier">htmlRenderer</span><span>, </span><span class="identifier">epubRenderer</span><span>, </span><span class="identifier">pdfRenderer</span><span>) =&gt;
    </span><span class="identifier">parser</span><span>.</span><span class="identifier">fromDirectory</span><span>(</span><span class="string-literal">&quot;source&quot;</span><span>).</span><span class="identifier">parse</span><span>.</span><span class="identifier">flatMap</span><span> { </span><span class="identifier">tree</span><span> =&gt;
      </span><span class="keyword">val</span><span> </span><span class="identifier">htmlOp</span><span> = </span><span class="identifier">htmlRenderer</span><span>.</span><span class="identifier">from</span><span>(</span><span class="identifier">tree</span><span>.</span><span class="identifier">root</span><span>).</span><span class="identifier">toDirectory</span><span>(</span><span class="string-literal">&quot;target&quot;</span><span>).</span><span class="identifier">render</span><span>
      </span><span class="keyword">val</span><span> </span><span class="identifier">epubOp</span><span> = </span><span class="identifier">epubRenderer</span><span>.</span><span class="identifier">from</span><span>(</span><span class="identifier">tree</span><span>.</span><span class="identifier">root</span><span>).</span><span class="identifier">toFile</span><span>(</span><span class="string-literal">&quot;out.epub&quot;</span><span>).</span><span class="identifier">render</span><span>
      </span><span class="keyword">val</span><span> </span><span class="identifier">pdfOp</span><span> = </span><span class="identifier">pdfRenderer</span><span>.</span><span class="identifier">from</span><span>(</span><span class="identifier">tree</span><span>.</span><span class="identifier">root</span><span>).</span><span class="identifier">toFile</span><span>(</span><span class="string-literal">&quot;out.pdf&quot;</span><span>).</span><span class="identifier">render</span><span>
      (</span><span class="identifier">htmlOp</span><span>, </span><span class="identifier">epubOp</span><span>, </span><span class="identifier">pdfOp</span><span>).</span><span class="identifier">parMapN</span><span> { (</span><span class="identifier">_</span><span>, </span><span class="identifier">_</span><span>, </span><span class="identifier">_</span><span>) =&gt; () }
    }
}</span></code></pre>
        <p>We are using cats&#39; <code>parMapN</code> here to run the three renderers in parallel.</p>
        <p>The <code>tree</code> instance passed to all renderers is of type <code>DocumentTreeRoot</code>. 
        If necessary you can use its API to inspect or transform the tree before rendering.
        See <a href="../04-customizing-laika/04-document-ast.html#the-document-ast">The Document AST</a> for details.</p>
        <p>The sample code in this scenario showed the effectful variant of the <code>Parser</code> and <code>Renderer</code> types,
        but just as the <code>Transformer</code> they exist in the other flavor as well: a pure variant as part of the <code>laika-core</code> module.</p>
        
        <h2 id="configuration" class="section">Configuration<a class="anchor-link right" href="#configuration"><i class="icofont-laika">&#xef71;</i></a></h2>
        <p>All the examples in this chapter only scratched the surface of Laika&#39;s API, 
        focusing on the basics like specifying input and output. 
        But since Laika is designed to be fully customizable and serve as a toolkit for creating toolkits, there is whole
        range of options available for customizing and extending its built-in functionality.</p>
        <p>Most of these configuration options are not specific to the library API use case and apply to the sbt plugin as well,
        apart from differences in the syntax/mechanics which with they are applied, which are reflected in the corresponding code examples.
        For this reason this section only gives a very brief overview while linking to the relevant sections in the other chapters.</p>
        
        <h3 id="theme-configuration" class="section">Theme Configuration<a class="anchor-link right" href="#theme-configuration"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>Configuration for the built-in Helium theme or a 3rd-party theme can be passed to the transformer builders.
        You can also specify an empty theme if you want to put all templates and styles right into your input directory.</p>
        <p>Example for applying a few Helium settings:</p>
        <pre><code class="nohighlight"><span class="keyword">val</span><span> </span><span class="identifier">theme</span><span> = </span><span class="type-name">Helium</span><span>.</span><span class="identifier">defaults</span><span>
  .</span><span class="identifier">all</span><span>.</span><span class="identifier">metadata</span><span>(
    </span><span class="identifier">title</span><span> = </span><span class="type-name">Some</span><span>(</span><span class="string-literal">&quot;Project Name&quot;</span><span>),
    </span><span class="identifier">language</span><span> = </span><span class="type-name">Some</span><span>(</span><span class="string-literal">&quot;de&quot;</span><span>),
  )
  .</span><span class="identifier">epub</span><span>.</span><span class="identifier">navigationDepth</span><span>(</span><span class="number-literal">4</span><span>)
  .</span><span class="identifier">pdf</span><span>.</span><span class="identifier">navigationDepth</span><span>(</span><span class="number-literal">4</span><span>)
  .</span><span class="identifier">build</span><span>
  
</span><span class="keyword">val</span><span> </span><span class="identifier">transformer</span><span> = </span><span class="type-name">Transformer</span><span>
  .</span><span class="identifier">from</span><span>(</span><span class="type-name">Markdown</span><span>)
  .</span><span class="identifier">to</span><span>(</span><span class="type-name">HTML</span><span>)
  .</span><span class="identifier">using</span><span>(</span><span class="type-name">GitHubFlavor</span><span>)
  .</span><span class="identifier">io</span><span>(</span><span class="identifier">blocker</span><span>)
  .</span><span class="identifier">parallel</span><span>[</span><span class="type-name">IO</span><span>]
  .</span><span class="identifier">withTheme</span><span>(</span><span class="identifier">theme</span><span>)
  .</span><span class="identifier">build</span></code></pre>
        <p>Setting an empty theme:</p>
        <pre class="keep-together pdf epub"><code class="nohighlight"><span class="identifier">laikaTheme</span><span> := </span><span class="type-name">Theme</span><span>.</span><span class="identifier">empty</span></code></pre>
        <p>If you do not explicitly pass a theme configuration Laika will run with the default settings of the Helium theme, 
        meaning your site and e-books will look exactly like this documentation, including all color and font choices.</p>
        <p>Since the default Helium theme offers a lot of configuration options it has its own dedicated chapter <a href="03-configuration.html#theme-settings">Theme Settings</a>.
        They are specific to the Helium theme, when using a 3rd-party theme you need to consult their documentation 
        for setup options.</p>
        <p>To just give a brief overview, those settings allow you to configure:</p>
        <ul>
          <li>
            <p>The <a href="../03-preparing-content/03-theme-settings.html#fonts">Fonts</a> to embed in EPUB and PDF files or to link in HTML files.</p>
          </li>
          <li>
            <p>The <a href="../03-preparing-content/03-theme-settings.html#colors">Colors</a> for the main theme and for syntax highlighting.</p>
          </li>
          <li>
            <p>Several aspects of the theme&#39;s <a href="../03-preparing-content/03-theme-settings.html#layout">Layout</a>, like column widths, block spacing or PDF page sizes.</p>
          </li>
          <li>
            <p><a href="../03-preparing-content/03-theme-settings.html#metadata">Metadata</a> (title, authors, description, language, etc.) to include in the generated site or e-books.</p>
          </li>
          <li>
            <p>Adding <a href="../03-preparing-content/03-theme-settings.html#favicons">Favicons</a> or custom links to the <a href="../03-preparing-content/03-theme-settings.html#top-navigation-bar">Top Navigation Bar</a></p>
          </li>
          <li>
            <p>Adding an optional <a href="../03-preparing-content/03-theme-settings.html#download-page">Download Page</a> for the site&#39;s content as EPUB or PDF</p>
          </li>
          <li>
            <p>Providing logos, text and links for an optional <a href="../03-preparing-content/03-theme-settings.html#website-landing-page">Website Landing Page</a>.</p>
          </li>
          <li>
            <p>Configure <a href="../03-preparing-content/03-theme-settings.html#cover-images-for-e-books">Cover Images for E-books</a> or <a href="../03-preparing-content/03-theme-settings.html#auto-linking-css-js-files">Auto-Linking CSS &amp; JS Files</a>.</p>
          </li>
        </ul>
        
        <h3 id="other-settings" class="section">Other Settings<a class="anchor-link right" href="#other-settings"><i class="icofont-laika">&#xef71;</i></a></h3>
        <p>These other settings are available independent from the theme in use: </p>
        <ul>
          <li>
            <p><a href="03-configuration.html#strict-mode">Strict mode</a>: Disables all non-standard extensions Laika adds to the supported markup formats, like directives.</p>
          </li>
          <li>
            <p><a href="03-configuration.html#raw-content">Raw Content</a>: Enables the inclusion of raw sections of the target format in markup files, 
            e.g. snippets of verbatim HTML embedded in Markdown files. By default this is disabled.</p>
          </li>
          <li>
            <p><a href="03-configuration.html#character-encoding">Character Encoding</a>: Sets the character encoding of input and output files, the default is UTF-8.</p>
          </li>
          <li>
            <p><a href="03-configuration.html#error-handling">Error Handling</a>: Specify log levels or switch to &quot;visual debugging&quot;, where recoverable errors are
            rendered in the page context where they occur instead of causing the transformation to fail.</p>
          </li>
          <li>
            <p><strong>Laika Extensions</strong>: Use the library&#39;s customization options to override renderers for specific AST nodes (<a href="../04-customizing-laika/06-overriding-renderers.html#overriding-renderers">Overriding Renderers</a>),
            transform the document AST before rendering (<a href="../04-customizing-laika/05-ast-rewriting.html#ast-rewriting">AST Rewriting</a>), install custom directives (<a href="../05-extending-laika/03-implementing-directives.html#implementing-directives">Implementing Directives</a>)
            or use some of the lower level hooks in (<a href="../05-extending-laika/01-overview.html#the-extensionbundle-api">The ExtensionBundle API</a>).</p>
          </li>
          <li>
            <p><strong>Basic Configuration Options</strong>: Setting <a href="03-configuration.html#strict-mode">Strict Mode</a>, including <a href="03-configuration.html#raw-content">Raw Content</a>, setting the <a href="03-configuration.html#character-encoding">Character Encoding</a>, 
            controlling <a href="03-configuration.html#error-handling">Error Handling</a> and specifying <a href="03-configuration.html#user-defined-variables">User-Defined Variables</a>. </p>
          </li>
          <li>
            <p><a href="01-sbt-plugin.html#inspecting-laika-s-configuration">Inspecting Laika&#39;s Configuration</a>: Run the <code>describe</code> method on the IO-based transformers, parsers and renderers 
            to get a formatted summary of the active configuration, installed extension bundles and lists of input and output files.</p>
          </li>
        </ul>

      </main>

    </div>

  </body>
</html>